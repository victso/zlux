<!DOCTYPE html>
<html lang="en-gb" dir="ltr">
	<head>
		<meta charset="utf-8"></meta>
		<meta content="width=device-width, initial-scale=1" name="viewport"></meta>
		<title>Zlux Files</title>
		<link rel="stylesheet" href="../../dist/css/zlux.min.css">
		<script src="../../bower_components/jquery/dist/jquery.min.js"></script>
		<script src="../../bower_components/uikit/dist/js/uikit.min.js"></script>
		<script src="../../bower_components/uikit/dist/js/addons/notify.min.js"></script>
		<script src="../../bower_components/datatables/media/js/jquery.datatables.js"></script>
		<script src="../../bower_components/jquery-mockjax/jquery.mockjax.js"></script>
		<script src="../../bower_components/jquery-mockjson/js/jquery.mockjson.js"></script>
		<script src="../js/core.js"></script>
		<script src="../js/ajax.js"></script>
		<script src="../js/component.js"></script>
		<script src="../js/notify.js"></script>
		<script src="../js/manager.js"></script>
		<script src="../js/manager-files.js"></script>
	</head>
	<body class="tm-background zlux">

		<div class="uk-container uk-container-center">

			<div class="uk-grid">

				<!-- main wrapper -->
				<div data-zx-manager-files class="zx-manager uk-width-1-1">

					<!-- menu -->
					<nav class="uk-navbar zx-manager-nav"></nav>

					<!-- table -->
					<table class="uk-table uk-table-striped zx-manager-resources"></table>

				</div>

			</div>

		</div>

		<script type="text/javascript">

			// mock DT request
			$.mockjax(function(settings) {
				var service = settings.url.match(/index\.php\?option\=com_zoolanders\&format\=raw\&controller\=zlux\&task\=getFilesManagerData/);
				if ( service ) {
					// emulate 1 level folder tree
					if (settings.data.root === '') {
						return {
							proxy: 'data/filesManager.json'
						};
					} else {
						return {
							proxy: 'data/filesManager.subfolder.json'
						};
					}
				}
				return;
			});

			// mock the 
			$.mockjax({
				url: 'index.php?option=com_zoolanders&format=raw&controller=zlux&task=deleteResource',
				contentType: 'text/html',
				responseText: {success:true, errors:[], notices:[]}
				// responseText: $.mockJSON.generateFromTemplate({
				// 	"success|0-1": true
				// })
			});
			
		</script>

	</body>
</html>
