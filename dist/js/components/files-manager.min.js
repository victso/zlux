/**
 * @package     zlux
 * @version     2.0.3
 * @author      ZOOlanders - http://zoolanders.com
 * @license     GNU General Public License v2 or later
 */

!function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return t[o].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var o=n(1),i=n(2);o.component("zx-files-manager",{boot:function(){return window.Vue?void Vue.component("files-manager",n(35)):void i.warn("Vue not loaded but required by Files Manager")}})},function(t,e){t.exports=UIkit},function(t,e,n){"use strict";var o=n(5),i=o.extend;i(e,o),i(e,n(4))},function(t,e){"use strict";t.exports={url:"",route:"",routesMap:{},crsf:"",locales:{},debug:!1,silent:!1}},function(t,e,n){"use strict";function o(){var t="undefined"!=typeof console;e.log=function(e){t&&i.debug&&console.log("[ZLUX info]: "+e)},e.warn=function(e){!t||i.silent&&!i.debug||(console.warn("[ZLUX warn]: "+e),i.debug)}}var i=n(3);o()},function(t,e){"use strict";function n(t,e,i){for(var r in e)i&&(o.isPlainObject(e[r])||o.isArray(e[r]))?(o.isPlainObject(e[r])&&!o.isPlainObject(t[r])&&(t[r]={}),o.isArray(e[r])&&!o.isArray(t[r])&&(t[r]=[]),n(t[r],e[r],i)):void 0!==e[r]&&(t[r]=e[r])}var o=this;e.extend=function(t){var e,o=[],i=o.slice.call(arguments,1);return"boolean"==typeof t&&(e=t,t=i.shift()),i.forEach(function(o){n(t,o,e)}),t},e.typeOf=function(t){return{}.toString.call(t).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()},e.isFunction=function(t){return t&&"function"===this.typeOf(t)},e.isArray=function(t){return Array.isArray(t)};var i=Object.prototype.toString;e.isPlainObject=function(t){return"[object Object]"===i.call(t)}},function(t,e){t.exports=UIkit.$},,,,,,,,,,,,,function(t,e){t.exports='<ul class=uk-breadcrumb><li v-repeat=crumbs><a href=# v-if="path !== root" v-on="click: $parent.$parent.goTo(path)">{{ name }}</a> <span v-if="path === root" class=uk-active>{{ name }}</span></li></ul>'},function(t,e){t.exports='<td v-if="type == \'folder\'"><a href=# v-on="click: selectPage">{{ basename | title }}</a><td v-if="type == \'file\'">{{ basename | title }}<td>{{ size | parseSize }}'},function(t,e){t.exports='<breadcrumb root="{{ root }}"></breadcrumb><table class=uk-table><thead><tr><th>File<th>Size<tbody><tr v-component=resource v-repeat=resources root="{{* root }}" on-select-page="{{ goTo }}"></table>'},function(t,e){t.exports="this is the uploader<div class=uk-placeholder-large>...</div>"},function(t,e){t.exports='<div class=zx-files-manager><nav class=uk-navbar><ul class=uk-navbar-nav><li class="uk-parent uk-active" v-repeat="item: nav"><a href=# v-on="click: changeView(item.view)">{{ item.title }}</a></li></ul></nav><component is="{{ currentView }}"></component></div>'},,,,,,function(t,e){"use strict";e.basename=function(t,e){var n=t,o=n.charAt(n.length-1);return("/"===o||"\\"===o)&&(n=n.slice(0,-1)),n=n.replace(/^.*[\/\\]/g,""),"string"==typeof e&&n.substr(n.length-e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.parseSize=function(t){if("string"!=typeof t||""===t)return t;var e,n={t:1099511627776,g:1073741824,m:1048576,k:1024};return t=/^([0-9]+)([mgk]?)$/.exec(t.toLowerCase().replace(/[^0-9mkg]/g,"")),e=t[2],t=+t[1],n.hasOwnProperty(e)&&(t*=n[e]),t},e.filesize=function(t){var e,n,o,i,r,s,a,u,c,l,f,p=/b$/,d={bits:["B","kb","Mb","Gb","Tb","Pb","Eb","Zb","Yb"],bytes:["B","kB","MB","GB","TB","PB","EB","ZB","YB"]},h=void 0===arguments[1]?{}:arguments[1],m=[],g=!1,b=0;if(isNaN(t))throw new Error("Invalid arguments");return o=h.bits===!0,c=h.unix===!0,n=void 0!==h.base?h.base:2,u=void 0!==h.round?h.round:c?1:2,l=void 0!==h.spacer?h.spacer:c?"":" ",f=void 0!==h.suffixes?h.suffixes:{},a=void 0!==h.output?h.output:"string",e=void 0!==h.exponent?h.exponent:-1,s=Number(t),r=0>s,i=n>2?1e3:1024,r&&(s=-s),0===s?(m[0]=0,c?m[1]="":m[1]="B"):((-1===e||isNaN(e))&&(e=Math.floor(Math.log(s)/Math.log(i))),e>8&&(b=1e3*b*(e-8),e=8),b=2===n?s/Math.pow(2,10*e):s/Math.pow(1e3,e),o&&(b=8*b,b>i&&(b/=i,e++)),m[0]=Number(b.toFixed(e>0?u:0)),m[1]=d[o?"bits":"bytes"][e],!g&&c&&(o&&p.test(m[1])&&(m[1]=m[1].toLowerCase()),m[1]=m[1].charAt(0),"B"===m[1]?(m[0]=Math.floor(m[0]),m[1]=""):o||"k"!==m[1]||(m[1]="K"))),r&&(m[0]=-m[0]),m[1]=f[m[1]]||m[1],"array"===a?m:"exponent"===a?e:"object"===a?{value:m[0],suffix:m[1]}:m.join(l)}},,function(t,e,n){t.exports=n(42),t.exports.template=n(19)},function(t,e,n){t.exports=n(43),t.exports.template=n(20)},function(t,e,n){t.exports=n(44),t.exports.template=n(21)},function(t,e,n){t.exports=n(45),t.exports.template=n(22)},function(t,e,n){t.exports=n(46),t.exports.template=n(23)},,,,,,,function(t,e){t.exports={replace:!0,props:["root"],computed:{crumbs:function(){var t=this.root.replace(/^[\/]|[\/]$/gm,"").split("/"),e=[];if(t.length>1){var n="/";t.forEach(function(t){e.push({name:t,path:n+=t+"/"})})}else this.root="/";return e.unshift({name:"root",path:"/"}),e}}}},function(t,e,n){var o=n(29);t.exports={props:["root","on-select-page"],data:function(){return{basename:"",content_type:"",ext:"",name:"",size:""}},computed:{path:function(){return this.root+"/"+this.basename},type:function(){return this.basename.match(/\/$/)?"folder":"file"}},filters:{title:function(t){return t.replace(/(\/|\.\w+$)/g,"").replace(/(-|_)/g," ")},parseSize:function(t){return t?o.filesize(o.parseSize(t)):t}},methods:{selectPage:function(t){t.preventDefault(),this.onSelectPage(this.path)}}}},function(t,e,n){t.exports={replace:!0,inherit:!0,components:{resource:n(32),breadcrumb:n(31)}}},function(t,e){t.exports={}},function(t,e,n){var o=n(2),i=n(6);t.exports={replace:!0,data:function(){return{root:"",resources:[],cache:{},currentRoot:"",currentView:"resources",nav:[{title:"Files",view:"files"},{title:"Uploader",view:"uploader"}]}},ready:function(){i('a[href="#"]',this.$el).on("click",function(t){t.preventDefault()})},methods:{changeView:function(t){this.currentView=t},goTo:function(t){this.root=t,this.fetch()},fetch:function(t){t=o.extend({path:this.root},t||{}),this.$http.get("/files",t).done(function(t){this.root=t.root,this.resources=t.resources,this.cache[this.root]=t,o.isFunction(this.onLoadPage)&&this.onLoadPage()})},init:function(){this.resources.length||this.fetch()}},components:{resources:n(33),uploader:n(34)}}}]);