/**
 * @package     zlux
 * @version     2.0.3
 * @author      ZOOlanders - http://zoolanders.com
 * @license     GNU General Public License v2 or later
 */

!function(t){function n(i){if(e[i])return e[i].exports;var o=e[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n,e){"use strict";var i=e(1),o=e(2);i.component("zx-files-manager",{boot:function(){return window.Vue?void Vue.component("files-manager",e(10)):void o.warn("Vue not loaded but required by Files Manager")}})},function(t,n){t.exports=UIkit},function(t,n,e){var i=e(5),o=i.extend;o(n,i),o(n,e(4))},function(t,n){t.exports={url:"",route:"",routes_map:{},crsf:"",locales:{},debug:!1,silent:!1}},function(t,n,e){function i(){var t="undefined"!=typeof console;n.log=function(n){t&&o.debug&&console.log("[ZLUX info]: "+n)},n.warn=function(n){!t||o.silent&&!o.debug||(console.warn("[ZLUX warn]: "+n),o.debug)}}var o=e(3);i()},function(t,n){function e(t,n,o){for(var r in n)o&&(i.isPlainObject(n[r])||i.isArray(n[r]))?(i.isPlainObject(n[r])&&!i.isPlainObject(t[r])&&(t[r]={}),i.isArray(n[r])&&!i.isArray(t[r])&&(t[r]=[]),e(t[r],n[r],o)):void 0!==n[r]&&(t[r]=n[r])}var i=this;n.extend=function(t){var n,i=[],o=i.slice.call(arguments,1);return"boolean"==typeof t&&(n=t,t=o.shift()),o.forEach(function(i){e(t,i,n)}),t},n.typeOf=function(t){return{}.toString.call(t).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()},n.isFunction=function(t){return t&&"function"===this.typeOf(t)},n.isArray=function(t){return Array.isArray(t)};var o=Object.prototype.toString;n.isPlainObject=function(t){return"[object Object]"===o.call(t)}},,function(t,n){var e='<ul class="uk-breadcrumb">\n\n        <li v-repeat="crumbs" v-ifactive="{{ path == $parent.path }}">\n\n            <a href="#" v-on="click: $parent.$parent.goTo(path)">{{ name }}</a>\n\n        </li>\n\n    </ul>';t.exports={paramAttributes:["path"],data:function(){return{path:""}},computed:{crumbs:function(){var t=this.path.replace(/^[\/]|[\/]$/gm,""),n=[];if(t.length>1){var e="/";t.split("/").forEach(function(t){n.push({name:t,path:e+=t+"/"})})}return n.unshift({name:"root",path:"/"}),n}},directives:{ifactive:{isLiteral:!0,update:function(){this.expression===!0&&($(this.el).addClass("uk-active").find("a").remove(),$(this.el).append($("<span />").html(this.vm.name)))}}}},("function"==typeof t.exports?t.exports.options:t.exports).template=e},function(t,n,e){var i='<tr>\n\n        <td v-set-type="{{ type }}">\n\n            <a href="#" v-on="click: $parent.goTo(path)">{{ path | basename }}</a>\n\n        </td>\n\n        <td>\n\n            {{ size | parseSize }}\n\n        </td>\n\n    </tr>',o=e(17);t.exports={data:function(){return{type:"",path:"",size:null}},created:function(){this.type=this.path.match(/\/$/)?"folder":"file"},filters:{basename:function(t){return o.basename(t).replace(/(\.\w+$)/g,"").replace(/(-|_)/g," ")},parseSize:function(t){return t?o.filesize(o.parseSize(t)):t}},directives:{"set-type":{isLiteral:!0,bind:function(){"file"==this.expression&&($(this.el).find("a").remove(),$(this.el).append(this.vm.$options.filters.basename(this.vm.path)))}}}},("function"==typeof t.exports?t.exports.options:t.exports).template=i},function(t,n,e){var i='<div v-if="files.length">\n\n        <breadcrumb path="{{ root }}"></breadcrumb>\n\n        <file v-repeat="files"></file><table class="uk-table">\n            <thead>\n                <tr>\n                    <th>File</th>\n                    <th>Size</th>\n                </tr>\n            </thead>\n            <tbody>\n                \n            </tbody>\n        </table>\n\n    </div>';t.exports={inherit:!0,data:function(){return{root:"",files:[],cache:{}}},created:function(){return this.$http?void this.fetchData("root"):void console.warn("vue-resource plugin not loaded")},methods:{goTo:function(t){this.fetchData(t)},fetchData:function(t){return this.cache[t]?(this.root=t,void(this.files=this.cache[t])):void this.$http.get("/files",{path:t},function(n){this.root=n.root,this.files=n.data,this.cache[t]=n}).error(function(t){console.log(t)})}},components:{file:e(8),breadcrumb:e(7)}},("function"==typeof t.exports?t.exports.options:t.exports).template=i},function(t,n,e){var i='<div class="zx-files-manager">\n\n        <nav class="uk-navbar">\n            <ul class="uk-navbar-nav">\n\n                <li class="uk-parent uk-active" v-repeat="item: nav">\n\n                    <a href="#" v-on="click: changeView(item.view)"> {{ item.title }}</a>\n\n                </li>\n\n            </ul>\n        </nav>\n\n        <component is="{{ currentView }}"></component>\n\n    </div>',o=e(1);t.exports={data:{currentView:"files",nav:[{title:"Files",view:"files"},{title:"Uploader",view:"uploader"}]},ready:function(){o.$('a[href="#"]',this.$el).on("click",function(t){t.preventDefault()})},methods:{changeView:function(t){this.currentView=t}},components:{files:e(9),uploader:e(11)}},("function"==typeof t.exports?t.exports.options:t.exports).template=i},function(t,n){var e='this is the uploader\n    <div class="uk-placeholder-large">...</div>';t.exports={},("function"==typeof t.exports?t.exports.options:t.exports).template=e},,,,,,function(t,n){n.basename=function(t,n){var e=t,i=e.charAt(e.length-1);return("/"===i||"\\"===i)&&(e=e.slice(0,-1)),e=e.replace(/^.*[\/\\]/g,""),"string"==typeof n&&e.substr(e.length-n.length)==n&&(e=e.substr(0,e.length-n.length)),e},n.parseSize=function(t){if("string"!=typeof t||""===t)return t;var n,e={t:1099511627776,g:1073741824,m:1048576,k:1024};return t=/^([0-9]+)([mgk]?)$/.exec(t.toLowerCase().replace(/[^0-9mkg]/g,"")),n=t[2],t=+t[1],e.hasOwnProperty(n)&&(t*=e[n]),t},n.filesize=function(t){var n=/b$/,e={bits:["B","kb","Mb","Gb","Tb","Pb","Eb","Zb","Yb"],bytes:["B","kB","MB","GB","TB","PB","EB","ZB","YB"]},i=void 0===arguments[1]?{}:arguments[1],o=[],r=!1,s=0,a=void 0,u=void 0,c=void 0,l=void 0,f=void 0,p=void 0,d=void 0,h=void 0,m=void 0,g=void 0,v=void 0;if(isNaN(t))throw new Error("Invalid arguments");return c=i.bits===!0,m=i.unix===!0,u=void 0!==i.base?i.base:2,h=void 0!==i.round?i.round:m?1:2,g=void 0!==i.spacer?i.spacer:m?"":" ",v=void 0!==i.suffixes?i.suffixes:{},d=void 0!==i.output?i.output:"string",a=void 0!==i.exponent?i.exponent:-1,p=Number(t),f=0>p,l=u>2?1e3:1024,f&&(p=-p),0===p?(o[0]=0,m?o[1]="":o[1]="B"):((-1===a||isNaN(a))&&(a=Math.floor(Math.log(p)/Math.log(l))),a>8&&(s=1e3*s*(a-8),a=8),s=2===u?p/Math.pow(2,10*a):p/Math.pow(1e3,a),c&&(s=8*s,s>l&&(s/=l,a++)),o[0]=Number(s.toFixed(a>0?h:0)),o[1]=e[c?"bits":"bytes"][a],!r&&m&&(c&&n.test(o[1])&&(o[1]=o[1].toLowerCase()),o[1]=o[1].charAt(0),"B"===o[1]?(o[0]=Math.floor(o[0]),o[1]=""):c||"k"!==o[1]||(o[1]="K"))),f&&(o[0]=-o[0]),o[1]=v[o[1]]||o[1],"array"===d?o:"exponent"===d?a:"object"===d?{value:o[0],suffix:o[1]}:o.join(g)}}]);