/**
 * @package     zlux
 * @version     2.0.3
 * @author      ZOOlanders - http://zoolanders.com
 * @license     GNU General Public License v2 or later
 */

!function(t){function n(o){if(e[o])return e[o].exports;var i=e[o]={exports:{},id:o,loaded:!1};return t[o].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n,e){"use strict";var o=e(1),i=e(2);o.component("zx-files-manager",{boot:function(){return window.Vue?void Vue.component("files-manager",e(12)):void i.warn("Vue not loaded but required by Files Manager")}})},function(t,n){t.exports=UIkit},function(t,n,e){var o=e(5),i=o.extend;i(n,o),i(n,e(4))},function(t,n){t.exports={url:"",route:"",routes_map:{},crsf:"",locales:{},debug:!1,silent:!1}},function(t,n,e){function o(){var t="undefined"!=typeof console;n.log=function(n){t&&i.debug&&console.log("[ZLUX info]: "+n)},n.warn=function(n){!t||i.silent&&!i.debug||(console.warn("[ZLUX warn]: "+n),i.debug)}}var i=e(3);o()},function(t,n){function e(t,n,i){for(var r in n)i&&(o.isPlainObject(n[r])||o.isArray(n[r]))?(o.isPlainObject(n[r])&&!o.isPlainObject(t[r])&&(t[r]={}),o.isArray(n[r])&&!o.isArray(t[r])&&(t[r]=[]),e(t[r],n[r],i)):void 0!==n[r]&&(t[r]=n[r])}var o=this;n.extend=function(t){var n,o=[],i=o.slice.call(arguments,1);return"boolean"==typeof t&&(n=t,t=i.shift()),i.forEach(function(o){e(t,o,n)}),t},n.typeOf=function(t){return{}.toString.call(t).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()},n.isFunction=function(t){return t&&"function"===this.typeOf(t)},n.isArray=function(t){return Array.isArray(t)};var i=Object.prototype.toString;n.isPlainObject=function(t){return"[object Object]"===i.call(t)}},function(t,n){t.exports=UIkit.$},,function(t,n){var e='<ul class="uk-breadcrumb">\n\n        <li v-repeat="crumbs">\n\n            <a href="#" v-if="path !== root" v-on="click: $parent.$parent.goTo(path)">\n                {{ name }}\n            </a>\n\n            <span v-if="path === root" class="uk-active">\n                {{ name }}\n            </span>\n\n        </li>\n\n    </ul>';t.exports={replace:!0,props:["root"],computed:{crumbs:function(){var t=this.root.replace(/^[\/]|[\/]$/gm,"").split("/"),n=[];if(t.length>1){var e="/";t.split("/").forEach(function(t){n.push({name:t,path:e+=t+"/"})})}else this.root="/";return n.unshift({name:"root",path:"/"}),n}}},("function"==typeof t.exports?t.exports.options:t.exports).template=e},function(t,n,e){var o='<td v-if="type == \'folder\'">\n\n        <a href="#" v-on="click: $parent.goTo(path)">{{ basename | title }}</a>\n\n    </td>\n\n    <td v-if="type == \'file\'">\n\n        {{ basename | title }}\n\n    </td>\n\n    <td>\n\n        {{ size | parseSize }}\n\n    </td>',i=e(18);e(6);t.exports={props:["root"],data:function(){return{basename:"",content_type:"",ext:"",name:"",size:""}},computed:{path:function(){return this.root+"/"+this.basename},type:function(){return this.basename.match(/\/$/)?"folder":"file"}},filters:{title:function(t){return t.replace(/(\/|\.\w+$)/g,"").replace(/(-|_)/g," ")},parseSize:function(t){return t?i.filesize(i.parseSize(t)):t}}},("function"==typeof t.exports?t.exports.options:t.exports).template=o},function(t,n,e){var o='<breadcrumb root="{{ root }}"></breadcrumb>\n\n    <table class="uk-table">\n        <thead>\n            <tr>\n                <th>File</th>\n                <th>Size</th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr v-component="resource" root="{{* root }}" v-repeat="resources"></tr>\n        </tbody>\n    </table>';t.exports={replace:!0,inherit:!0,components:{resource:e(9),breadcrumb:e(8)}},("function"==typeof t.exports?t.exports.options:t.exports).template=o},function(t,n){var e='this is the uploader\n    <div class="uk-placeholder-large">...</div>';t.exports={},("function"==typeof t.exports?t.exports.options:t.exports).template=e},function(t,n,e){var o='<div class="zx-files-manager">\n\n        <nav class="uk-navbar">\n            <ul class="uk-navbar-nav">\n\n                <li class="uk-parent uk-active" v-repeat="item: nav">\n\n                    <a href="#" v-on="click: changeView(item.view)"> {{ item.title }}</a>\n\n                </li>\n\n            </ul>\n        </nav>\n\n        <component is="{{ currentView }}"></component>\n\n    </div>',i=e(2),r=e(6);t.exports={replace:!0,data:function(){return{root:"",resources:[],cache:{},currentPath:"",currentView:"resources",nav:[{title:"Files",view:"files"},{title:"Uploader",view:"uploader"}]}},ready:function(){r('a[href="#"]',this.$el).on("click",function(t){t.preventDefault()})},methods:{changeView:function(t){this.currentView=t},goTo:function(t){this.fetchData(t)},fetchData:function(t){t=i.extend({path:this.currentPath},t||{}),this.$http.get("/files",t).done(function(t){this.root=t.root,this.resources=t.resources,this.cache[this.root]=t,i.isFunction(this.onLoadPage)&&this.onLoadPage()})},init:function(){this.resources.length||this.fetchData()}},components:{resources:e(10),uploader:e(11)}},("function"==typeof t.exports?t.exports.options:t.exports).template=o},,,,,,function(t,n){n.basename=function(t,n){var e=t,o=e.charAt(e.length-1);return("/"===o||"\\"===o)&&(e=e.slice(0,-1)),e=e.replace(/^.*[\/\\]/g,""),"string"==typeof n&&e.substr(e.length-n.length)==n&&(e=e.substr(0,e.length-n.length)),e},n.parseSize=function(t){if("string"!=typeof t||""===t)return t;var n,e={t:1099511627776,g:1073741824,m:1048576,k:1024};return t=/^([0-9]+)([mgk]?)$/.exec(t.toLowerCase().replace(/[^0-9mkg]/g,"")),n=t[2],t=+t[1],e.hasOwnProperty(n)&&(t*=e[n]),t},n.filesize=function(t){var n=/b$/,e={bits:["B","kb","Mb","Gb","Tb","Pb","Eb","Zb","Yb"],bytes:["B","kB","MB","GB","TB","PB","EB","ZB","YB"]},o=void 0===arguments[1]?{}:arguments[1],i=[],r=!1,s=0,a=void 0,u=void 0,c=void 0,l=void 0,f=void 0,p=void 0,d=void 0,h=void 0,m=void 0,g=void 0,v=void 0;if(isNaN(t))throw new Error("Invalid arguments");return c=o.bits===!0,m=o.unix===!0,u=void 0!==o.base?o.base:2,h=void 0!==o.round?o.round:m?1:2,g=void 0!==o.spacer?o.spacer:m?"":" ",v=void 0!==o.suffixes?o.suffixes:{},d=void 0!==o.output?o.output:"string",a=void 0!==o.exponent?o.exponent:-1,p=Number(t),f=0>p,l=u>2?1e3:1024,f&&(p=-p),0===p?(i[0]=0,m?i[1]="":i[1]="B"):((-1===a||isNaN(a))&&(a=Math.floor(Math.log(p)/Math.log(l))),a>8&&(s=1e3*s*(a-8),a=8),s=2===u?p/Math.pow(2,10*a):p/Math.pow(1e3,a),c&&(s=8*s,s>l&&(s/=l,a++)),i[0]=Number(s.toFixed(a>0?h:0)),i[1]=e[c?"bits":"bytes"][a],!r&&m&&(c&&n.test(i[1])&&(i[1]=i[1].toLowerCase()),i[1]=i[1].charAt(0),"B"===i[1]?(i[0]=Math.floor(i[0]),i[1]=""):c||"k"!==i[1]||(i[1]="K"))),f&&(i[0]=-i[0]),i[1]=v[i[1]]||i[1],"array"===d?i:"exponent"===d?a:"object"===d?{value:i[0],suffix:i[1]}:i.join(g)}}]);