/**
 * @package     zlux
 * @version     2.0.3
 * @author      ZOOlanders - http://zoolanders.com
 * @license     GNU General Public License v2 or later
 */

!function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var i=n(2),o=n(1);i.component("zx-files-manager",{boot:function(){return window.Vue?void Vue.component("files-manager",n(35)):void o.warn("Vue not loaded but required by Files Manager")}})},function(t,e,n){"use strict";var i=n(6),o=i.extend;o(e,i),o(e,n(5))},function(t,e){t.exports=UIkit},function(t,e){t.exports=UIkit.$},function(t,e){"use strict";t.exports={url:"",route:"",routesMap:{},crsf:"",locales:{},debug:!1,silent:!1}},function(t,e,n){"use strict";function i(){var t="undefined"!=typeof console;e.log=function(e){t&&o.debug&&console.log("[ZLUX info]: "+e)},e.warn=function(e){!t||o.silent&&!o.debug||(console.warn("[ZLUX warn]: "+e),o.debug)}}var o=n(4);i()},function(t,e){"use strict";function n(t,e,o){for(var s in e)o&&(i.isPlainObject(e[s])||i.isArray(e[s]))?(i.isPlainObject(e[s])&&!i.isPlainObject(t[s])&&(t[s]={}),i.isArray(e[s])&&!i.isArray(t[s])&&(t[s]=[]),n(t[s],e[s],o)):void 0!==e[s]&&(t[s]=e[s])}var i=this;e.extend=function(t){var e,i=[],o=i.slice.call(arguments,1);return"boolean"==typeof t&&(e=t,t=o.shift()),o.forEach(function(i){n(t,i,e)}),t},e.typeOf=function(t){return{}.toString.call(t).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()},e.isFunction=function(t){return t&&"function"===this.typeOf(t)},e.isArray=function(t){return Array.isArray(t)};var o=Object.prototype.toString;e.isPlainObject=function(t){return"[object Object]"===o.call(t)}},,,,,,,,,,,,,function(t,e){t.exports='<ul class=uk-breadcrumb><li><a href="" v-if=active v-on="click: select(this, \'/\')">{{ \'root\' | trans }}</a><template v-if=!active>{{ \'root\' | trans }}</template></li><template v-repeat=crumbs><li v-if=location><a href="" v-on="click: select(this, location)">{{ name }}</a></li><li v-if=!location><span>{{ name }}</span></li></template><li v-if=active class=uk-active><span>{{ active.name }}</span></li></ul>'},function(t,e){t.exports='<tr><td><a v-if="type == \'folder\'" href=# v-on="click: goToFolder">{{ basename | title }}</a><template v-if="type == \'file\'">{{ basename | title }}</template><td>{{ size | parseSize }}'},function(t,e){t.exports='<table class=uk-table><thead><tr><th>{{ \'Name\' | trans }}<th>{{ \'Size\' | trans }}<tbody><tr v-component=resource v-repeat=resources location="{{ location }}" go-to="{{ goTo }}"></table><pagination v-if="total > itemsPerPage" items="{{ total }}" current-page="{{@ currentPage }}" items-on-page="{{ itemsPerPage }}" on-select-page="{{ changePage }}"></pagination><div v-if="location !== \'/\'" class=uk-text-center><breadcrumb location="{{ location }}" go-to="{{ goTo }}"></breadcrumb></div>'},function(t,e){t.exports="this is the uploader<div class=uk-placeholder-large>...</div>"},function(t,e){t.exports='<div class=zx-files-manager><div v-if="fetching && !resources.length" class=uk-text-center><i class="uk-icon-spinner uk-icon-spin uk-icon-small"></i></div><template v-if=!notice><nav class=uk-navbar v-el=nav><form class="uk-form uk-margin-remove uk-display-inline-block uk-width-8-10" v-on="submit: search"><div class="uk-form-icon uk-width-1-1"><i v-class="filter ? \'uk-icon-times\' : \'uk-icon-search\'" v-on="click: clearSearch"></i> <input v-model=filter class="uk-form-blank uk-width-1-1" debounce=500 type=search></div></form><div class="uk-navbar-content uk-navbar-flip"><a href="" v-on="click: reload" title="{{ \'Reload\' | trans }}"><i class="uk-icon-refresh uk-icon-hover"></i></a> <a href="" v-on="click: reload" title="{{ \'Upload\' | trans }}"><i class="uk-icon-cloud-upload uk-icon-hover"></i></a></div></nav><component is="{{ currentView }}"></component></template><div v-if=notice class=uk-text-center><div v-if=!fetching>{{ notice }}<br><a href="" v-on="click: retry">{{ \'Retry\' | trans }}</a></div></div></div>'},,,,,,function(t,e){"use strict";e.basename=function(t,e){var n=t,i=n.charAt(n.length-1);return("/"===i||"\\"===i)&&(n=n.slice(0,-1)),n=n.replace(/^.*[\/\\]/g,""),"string"==typeof e&&n.substr(n.length-e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.parseSize=function(t){if("string"!=typeof t||""===t)return t;var e,n={t:1099511627776,g:1073741824,m:1048576,k:1024};return t=/^([0-9]+)([mgk]?)$/.exec(t.toLowerCase().replace(/[^0-9mkg]/g,"")),e=t[2],t=+t[1],n.hasOwnProperty(e)&&(t*=n[e]),t},e.filesize=function(t){var e,n,i,o,s,r,a,c,u,l,f,p=/b$/,h={bits:["B","kb","Mb","Gb","Tb","Pb","Eb","Zb","Yb"],bytes:["B","kB","MB","GB","TB","PB","EB","ZB","YB"]},d=void 0===arguments[1]?{}:arguments[1],g=[],m=!1,v=0;if(isNaN(t))throw new Error("Invalid arguments");return i=d.bits===!0,u=d.unix===!0,n=void 0!==d.base?d.base:2,c=void 0!==d.round?d.round:u?1:2,l=void 0!==d.spacer?d.spacer:u?"":" ",f=void 0!==d.suffixes?d.suffixes:{},a=void 0!==d.output?d.output:"string",e=void 0!==d.exponent?d.exponent:-1,r=Number(t),s=0>r,o=n>2?1e3:1024,s&&(r=-r),0===r?(g[0]=0,u?g[1]="":g[1]="B"):((-1===e||isNaN(e))&&(e=Math.floor(Math.log(r)/Math.log(o))),e>8&&(v=1e3*v*(e-8),e=8),v=2===n?r/Math.pow(2,10*e):r/Math.pow(1e3,e),i&&(v=8*v,v>o&&(v/=o,e++)),g[0]=Number(v.toFixed(e>0?c:0)),g[1]=h[i?"bits":"bytes"][e],!m&&u&&(i&&p.test(g[1])&&(g[1]=g[1].toLowerCase()),g[1]=g[1].charAt(0),"B"===g[1]?(g[0]=Math.floor(g[0]),g[1]=""):i||"k"!==g[1]||(g[1]="K"))),s&&(g[0]=-g[0]),g[1]=f[g[1]]||g[1],"array"===a?g:"exponent"===a?e:"object"===a?{value:g[0],suffix:g[1]}:g.join(l)}},,function(t,e,n){t.exports=n(42),t.exports.template=n(19)},function(t,e,n){t.exports=n(43),t.exports.template=n(20)},function(t,e,n){t.exports=n(44),t.exports.template=n(21)},function(t,e,n){t.exports=n(45),t.exports.template=n(22)},function(t,e,n){t.exports=n(46),t.exports.template=n(23)},,,,,,,function(t,e){t.exports={props:["location","goTo"],data:function(){return{active:null}},computed:{crumbs:function(){var t=[],e="";return this.location.replace(/^[\/]|[\/]$/gm,"").split("/").forEach(function(n){return""===n?!0:void t.push({name:n,location:e+="/"+n})}),this.$set("active",t.pop()),t.length>1&&t.splice(0,t.length-1,{name:"...",location:null}),t}},methods:{select:function(t,e){t.$event.preventDefault(),this.goTo(e)}}}},function(t,e,n){var i=n(29);t.exports={props:["location","goTo"],data:function(){return{basename:"",content_type:"",ext:"",name:"",size:""}},computed:{type:function(){return this.basename.match(/\/$/)?"folder":"file"}},filters:{title:function(t){return t.replace(/\/$/g,"").replace(/(-|_)/g," ")},parseSize:function(t){return t?i.filesize(i.parseSize(t)):t}},methods:{goToFolder:function(t){t.preventDefault(),this.goTo(this.location+"/"+this.basename)}}}},function(t,e,n){t.exports={inherit:!0,components:{resource:n(32),breadcrumb:n(31)}}},function(t,e){t.exports={}},function(t,e,n){var i=n(1);n(3);t.exports={props:{routeMap:{type:String,required:!0,"default":""}},data:function(){return{location:"/",cache:{},errors:[],notices:[],resources:[],currentView:"resources",fetching:!1,filter:"",itemsPerPage:2,currentPage:1,offset:0,count:0,total:0,nav:[{title:"Files",view:"files"},{title:"Uploader",view:"uploader"}]}},created:function(){this.$watch("filter",function(t,e){""===e&&this.$set("currentPage",1),this.cache={},this.search()})},computed:{error:function(){return this.errors.length?this.errors.join("\n"):!1},notice:function(){return this.notices.length?this.notices.join("\n"):!1}},methods:{retry:function(t){t.preventDefault(),this.fetch()},changeView:function(t){this.currentView=t},changePage:function(t){this.fetch(null,t)},goTo:function(t){this.fetch(this.cleanPath(t))},reload:function(t){t.preventDefault(),this.cache={},this.fetch(this.location,this.currentPage)},search:function(t){t&&t.preventDefault(),this.fetch()},clearSearch:function(){this.$set("filter",""),this.fetch()},fetch:function(t,e){if(t=t||this.location,e=e||1,this.cache[t+e]){var n=this.cache[t+e];return this.$set("location",n.location),this.$set("currentPage",n.page),this.$set("resources",n.resources),this.$set("count",n.count),void this.$set("total",n.total)}var o=i.extend({location:t,limit:this.itemsPerPage,page:e,filter:this.filter},o||{});this.$set("fetching",!0),this.$http.get(this.routeMap,o).done(function(t){this.$set("location",t.location),this.$set("currentPage",t.page),this.$set("resources",t.resources),this.$set("count",t.count),this.$set("total",t.total),this.cache[t.location+this.currentPage]=t,i.isFunction(this.onLoadPage)&&this.onLoadPage()}).fail(function(t){this.$set("notices",t.notices),this.$set("errors",t.errors)}).always(function(){this.$set("fetching",!1)})},cleanPath:function(t){return"/"===t?t:t.replace(/\/\/+/g,"/").replace(/^\/|\/$/g,"")}},components:{resources:n(33),uploader:n(34)}}}]);