/**
 * @package     zlux
 * @version     2.0.3
 * @author      ZOOlanders - http://zoolanders.com
 * @license     GNU General Public License v2 or later
 */

!function(t){function n(o){if(e[o])return e[o].exports;var i=e[o]={exports:{},id:o,loaded:!1};return t[o].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n,e){"use strict";var o=e(1),i=e(2);o.component("zx-files-manager",{boot:function(){return window.Vue?void Vue.component("files-manager",e(13)):void i.warn("Vue not loaded but required by Files Manager")}})},function(t,n){t.exports=UIkit},function(t,n,e){"use strict";var o=e(6),i=o.extend;i(n,o),i(n,e(5))},function(t,n){t.exports=UIkit.$},function(t,n){"use strict";t.exports={url:"",route:"",routesMap:{},crsf:"",locales:{},debug:!1,silent:!1}},function(t,n,e){"use strict";function o(){var t="undefined"!=typeof console;n.log=function(n){t&&i.debug&&console.log("[ZLUX info]: "+n)},n.warn=function(n){!t||i.silent&&!i.debug||(console.warn("[ZLUX warn]: "+n),i.debug)}}var i=e(4);o()},function(t,n){"use strict";function e(t,n,i){for(var r in n)i&&(o.isPlainObject(n[r])||o.isArray(n[r]))?(o.isPlainObject(n[r])&&!o.isPlainObject(t[r])&&(t[r]={}),o.isArray(n[r])&&!o.isArray(t[r])&&(t[r]=[]),e(t[r],n[r],i)):void 0!==n[r]&&(t[r]=n[r])}var o=this;n.extend=function(t){var n,o=[],i=o.slice.call(arguments,1);return"boolean"==typeof t&&(n=t,t=i.shift()),i.forEach(function(o){e(t,o,n)}),t},n.typeOf=function(t){return{}.toString.call(t).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()},n.isFunction=function(t){return t&&"function"===this.typeOf(t)},n.isArray=function(t){return Array.isArray(t)};var i=Object.prototype.toString;n.isPlainObject=function(t){return"[object Object]"===i.call(t)}},function(t,n){"use strict";n.basename=function(t,n){var e=t,o=e.charAt(e.length-1);return("/"===o||"\\"===o)&&(e=e.slice(0,-1)),e=e.replace(/^.*[\/\\]/g,""),"string"==typeof n&&e.substr(e.length-n.length)===n&&(e=e.substr(0,e.length-n.length)),e},n.parseSize=function(t){if("string"!=typeof t||""===t)return t;var n,e={t:1099511627776,g:1073741824,m:1048576,k:1024};return t=/^([0-9]+)([mgk]?)$/.exec(t.toLowerCase().replace(/[^0-9mkg]/g,"")),n=t[2],t=+t[1],e.hasOwnProperty(n)&&(t*=e[n]),t},n.filesize=function(t){var n,e,o,i,r,s,a,u,c,l,f,p=/b$/,d={bits:["B","kb","Mb","Gb","Tb","Pb","Eb","Zb","Yb"],bytes:["B","kB","MB","GB","TB","PB","EB","ZB","YB"]},h=void 0===arguments[1]?{}:arguments[1],m=[],g=!1,b=0;if(isNaN(t))throw new Error("Invalid arguments");return o=h.bits===!0,c=h.unix===!0,e=void 0!==h.base?h.base:2,u=void 0!==h.round?h.round:c?1:2,l=void 0!==h.spacer?h.spacer:c?"":" ",f=void 0!==h.suffixes?h.suffixes:{},a=void 0!==h.output?h.output:"string",n=void 0!==h.exponent?h.exponent:-1,s=Number(t),r=0>s,i=e>2?1e3:1024,r&&(s=-s),0===s?(m[0]=0,c?m[1]="":m[1]="B"):((-1===n||isNaN(n))&&(n=Math.floor(Math.log(s)/Math.log(i))),n>8&&(b=1e3*b*(n-8),n=8),b=2===e?s/Math.pow(2,10*n):s/Math.pow(1e3,n),o&&(b=8*b,b>i&&(b/=i,n++)),m[0]=Number(b.toFixed(n>0?u:0)),m[1]=d[o?"bits":"bytes"][n],!g&&c&&(o&&p.test(m[1])&&(m[1]=m[1].toLowerCase()),m[1]=m[1].charAt(0),"B"===m[1]?(m[0]=Math.floor(m[0]),m[1]=""):o||"k"!==m[1]||(m[1]="K"))),r&&(m[0]=-m[0]),m[1]=f[m[1]]||m[1],"array"===a?m:"exponent"===a?n:"object"===a?{value:m[0],suffix:m[1]}:m.join(l)}},,function(t,n){var e='<ul class="uk-breadcrumb">\n\n        <li v-repeat="crumbs">\n\n            <a href="#" v-if="path !== root" v-on="click: $parent.$parent.goTo(path)">\n                {{ name }}\n            </a>\n\n            <span v-if="path === root" class="uk-active">\n                {{ name }}\n            </span>\n\n        </li>\n\n    </ul>';t.exports={replace:!0,props:["root"],computed:{crumbs:function(){var t=this.root.replace(/^[\/]|[\/]$/gm,"").split("/"),n=[];if(t.length>1){var e="/";t.forEach(function(t){n.push({name:t,path:e+=t+"/"})})}else this.root="/";return n.unshift({name:"root",path:"/"}),n}}},("function"==typeof t.exports?t.exports.options:t.exports).template=e},function(t,n,e){var o='<td v-if="type == \'folder\'">\n\n        <a href="#" v-on="click: selectPage">{{ basename | title }}</a>\n\n    </td>\n\n    <td v-if="type == \'file\'">\n\n        {{ basename | title }}\n\n    </td>\n\n    <td>\n\n        {{ size | parseSize }}\n\n    </td>',i=e(7);e(3);t.exports={props:["root","on-select-page"],data:function(){return{basename:"",content_type:"",ext:"",name:"",size:""}},computed:{path:function(){return this.root+"/"+this.basename},type:function(){return this.basename.match(/\/$/)?"folder":"file"}},filters:{title:function(t){return t.replace(/(\/|\.\w+$)/g,"").replace(/(-|_)/g," ")},parseSize:function(t){return t?i.filesize(i.parseSize(t)):t}},methods:{selectPage:function(t){t.preventDefault(),this.onSelectPage(this.path)}}},("function"==typeof t.exports?t.exports.options:t.exports).template=o},function(t,n,e){var o='<breadcrumb root="{{ root }}"></breadcrumb>\n\n    <table class="uk-table">\n        <thead>\n            <tr>\n                <th>File</th>\n                <th>Size</th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr v-component="resource" v-repeat="resources" root="{{* root }}" on-select-page="{{ goTo }}"></tr>\n        </tbody>\n    </table>';t.exports={replace:!0,inherit:!0,components:{resource:e(10),breadcrumb:e(9)}},("function"==typeof t.exports?t.exports.options:t.exports).template=o},function(t,n){var e='this is the uploader\n    <div class="uk-placeholder-large">...</div>';t.exports={},("function"==typeof t.exports?t.exports.options:t.exports).template=e},function(t,n,e){var o='<div class="zx-files-manager">\n\n        <nav class="uk-navbar">\n            <ul class="uk-navbar-nav">\n\n                <li class="uk-parent uk-active" v-repeat="item: nav">\n\n                    <a href="#" v-on="click: changeView(item.view)"> {{ item.title }}</a>\n\n                </li>\n\n            </ul>\n        </nav>\n\n        <component is="{{ currentView }}"></component>\n\n    </div>',i=e(2),r=e(3);t.exports={replace:!0,data:function(){return{root:"",resources:[],cache:{},currentRoot:"",currentView:"resources",nav:[{title:"Files",view:"files"},{title:"Uploader",view:"uploader"}]}},ready:function(){r('a[href="#"]',this.$el).on("click",function(t){t.preventDefault()})},methods:{changeView:function(t){this.currentView=t},goTo:function(t){this.root=t,this.fetch()},fetch:function(t){t=i.extend({path:this.root},t||{}),this.$http.get("/files",t).done(function(t){this.root=t.root,this.resources=t.resources,this.cache[this.root]=t,i.isFunction(this.onLoadPage)&&this.onLoadPage()})},init:function(){this.resources.length||this.fetch()}},components:{resources:e(11),uploader:e(12)}},("function"==typeof t.exports?t.exports.options:t.exports).template=o}]);