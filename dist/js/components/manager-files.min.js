/**
 * @package     zlux
 * @version     2.0.3
 * @author      ZOOlanders - http://zoolanders.com
 * @license     GNU General Public License v2 or later
 */

!function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var i=n(2),o=n(3);o.component("zx-manager-files",{boot:function(){o.ready(function(t){o.$("[data-zx-manager-files]",t).each(function(){this.__vue__||new i(n(4)).$mount(this)})})}})},,function(t,e,n){t.exports=Vue},function(t,e,n){t.exports=UIkit},function(t,e,n){var i='<nav class="uk-navbar">\n        <ul class="uk-navbar-nav">\n\n            <li class="uk-parent uk-active" v-repeat="item: nav">\n\n                <a href="#" v-on="click: this.changeView(item.view)"> {{ item.title }}</a>\n                \n            </li>\n\n        </ul>\n    </nav>\n\n    <div v-component="{{ currentView }}" keep-alive=""></div>',o=n(3);t.exports={data:{currentView:"files",nav:[{title:"Files",view:"files"},{title:"Uploader",view:"uploader"}]},ready:function(){o.$('a[href="#"]',this.$el).on("click",function(t){t.preventDefault()})},methods:{changeView:function(t){this.currentView=t}},components:{files:n(7),uploader:n(8)}},("function"==typeof t.exports?t.exports.options:t.exports).template=i},,,function(t,e,n){var i='<div v-if="files.length">\n\n        <ul class="uk-breadcrumb" v-component="breadcrumb" path="{{ root }}"></ul>\n\n        <table class="uk-table">\n            <thead>\n                <tr>\n                    <th>File</th>\n                    <th>Size</th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr v-component="file" v-repeat="files"></tr>\n            </tbody>\n        </table>\n\n    </div>';t.exports={inherit:!0,data:function(){return{root:"",files:[],cache:{}}},created:function(){this.fetchData("root")},methods:{goTo:function(t){this.fetchData(t)},fetchData:function(t){return this.cache[t]?(this.root=t,void(this.files=this.cache[t])):void this.$http.get("/files",{path:t},function(e){this.root=e.root,this.files=e.data,this.cache[t]=e}).error(function(t){console.log(t)})}},components:{file:n(10),breadcrumb:n(11)}},("function"==typeof t.exports?t.exports.options:t.exports).template=i},function(t,e,n){var i='this is the uploader\n    <div class="uk-placeholder-large">...</div>';t.exports={},("function"==typeof t.exports?t.exports.options:t.exports).template=i},,function(t,e,n){var i='<td v-set-type="{{ type }}">\n\n        <a href="#" v-on="click: $parent.goTo(path)">{{ path | basename }}</a>\n\n    </td>\n\n    <td>\n\n        {{ size | parseSize }}\n\n    </td>',o=n(12);t.exports={data:function(){return{type:"",path:"",size:null}},created:function(){this.type=this.path.match(/\/$/)?"folder":"file"},filters:{basename:function(t){return o.basename(t).replace(/(\.\w+$)/g,"").replace(/(-|_)/g," ")},parseSize:function(t){return t?o.filesize(o.parseSize(t)):t}},directives:{"set-type":{isLiteral:!0,bind:function(){"file"==this.expression&&($(this.el).find("a").remove(),$(this.el).append(this.vm.$options.filters.basename(this.vm.path)))}}}},("function"==typeof t.exports?t.exports.options:t.exports).template=i},function(t,e,n){var i='<li v-repeat="crumbs" v-ifactive="{{ path == $parent.path }}">\n        \n        <a href="#" v-on="click: $parent.$parent.goTo(path)">{{ name }}</a>\n\n    </li>';t.exports={paramAttributes:["path"],data:function(){return{path:""}},computed:{crumbs:function(){var t=this.path.replace(/^[\/]|[\/]$/gm,""),e=[];if(t.length>1){var n="/";t.split("/").forEach(function(t){e.push({name:t,path:n+=t+"/"})})}return e.unshift({name:"root",path:"/"}),e}},directives:{ifactive:{isLiteral:!0,update:function(){1==this.expression&&($(this.el).addClass("uk-active").find("a").remove(),$(this.el).append($("<span />").html(this.vm.name)))}}}},("function"==typeof t.exports?t.exports.options:t.exports).template=i},function(t,e,n){t.exports={basename:function(t,e){var n=t,i=n.charAt(n.length-1);return("/"===i||"\\"===i)&&(n=n.slice(0,-1)),n=n.replace(/^.*[\/\\]/g,""),"string"==typeof e&&n.substr(n.length-e.length)==e&&(n=n.substr(0,n.length-e.length)),n},parseSize:function(t){if("string"!=typeof t||""===t)return t;var e,n={t:1099511627776,g:1073741824,m:1048576,k:1024};return t=/^([0-9]+)([mgk]?)$/.exec(t.toLowerCase().replace(/[^0-9mkg]/g,"")),e=t[2],t=+t[1],n.hasOwnProperty(e)&&(t*=n[e]),t},filesize:function(t){var e=/b$/,n={bits:["B","kb","Mb","Gb","Tb","Pb","Eb","Zb","Yb"],bytes:["B","kB","MB","GB","TB","PB","EB","ZB","YB"]},i=void 0===arguments[1]?{}:arguments[1],o=[],a=!1,r=0,s=void 0,p=void 0,c=void 0,u=void 0,l=void 0,f=void 0,h=void 0,v=void 0,d=void 0,m=void 0,b=void 0;if(isNaN(t))throw new Error("Invalid arguments");return c=i.bits===!0,d=i.unix===!0,p=void 0!==i.base?i.base:2,v=void 0!==i.round?i.round:d?1:2,m=void 0!==i.spacer?i.spacer:d?"":" ",b=void 0!==i.suffixes?i.suffixes:{},h=void 0!==i.output?i.output:"string",s=void 0!==i.exponent?i.exponent:-1,f=Number(t),l=0>f,u=p>2?1e3:1024,l&&(f=-f),0===f?(o[0]=0,o[1]=d?"":"B"):((-1===s||isNaN(s))&&(s=Math.floor(Math.log(f)/Math.log(u))),s>8&&(r=1e3*r*(s-8),s=8),r=2===p?f/Math.pow(2,10*s):f/Math.pow(1e3,s),c&&(r=8*r,r>u&&(r/=u,s++)),o[0]=Number(r.toFixed(s>0?v:0)),o[1]=n[c?"bits":"bytes"][s],!a&&d&&(c&&e.test(o[1])&&(o[1]=o[1].toLowerCase()),o[1]=o[1].charAt(0),"B"===o[1]?(o[0]=Math.floor(o[0]),o[1]=""):c||"k"!==o[1]||(o[1]="K"))),l&&(o[0]=-o[0]),o[1]=b[o[1]]||o[1],"array"===h?o:"exponent"===h?s:"object"===h?{value:o[0],suffix:o[1]}:o.join(m)}}}]);