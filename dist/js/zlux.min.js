/* ===================================================
 * zlux
 * https://zoolanders.com
 * ===================================================
 * Copyright (C) JOOlanders SL
 * http://www.gnu.org/licenses/gpl-2.0.html
 * ========================================================== */
!function(a,b,c,d){"use strict";var e=a.zx||{};if(e.fn)return e;e.version="2.0.1",e.url={},e.url.urls={ajax:"",root:"",root_path:"",zlux:""},e.url.push=function(b){a.extend(e.url.urls,b)},e.url.get=function(b,c){b=b.split(":"),c=c===d?{}:c;var f;if(2===b.length&&""!==b[1]){var g=e.url.urls.root_path.replace(/^\//,"");f=e.url._get(b[0])+"/"+b[1].replace(new RegExp("^"+g,"g"),"").replace(new RegExp("^/"+g,"g"),"")}else f=b[0]+(a.isEmptyObject(c)?"":"&"+a.param(c));return e.url.clean(f)},e.url._get=function(a){return e.url.urls[a]!==d?e.url.urls[a]:a},e.url.clean=function(a){return a?a.replace(/\\/g,"/").replace(/\/\/+/g,"/").replace(/undefined/g,"").replace(/\/$/g,"").replace(/:\//g,"://"):""},e.lang={},e.lang.strings={},e.lang.push=function(b){a.extend(e.lang.strings,b)},e.lang.get=function(a){return e.lang.strings[a]||a},e.lang._=e.lang.get,e.lang.sprintf=function(a){var b=[].slice.call(arguments,1);return a=e.lang.get(a),a.replace(/%[a-z]/g,function(){var a=b.shift();return"undefined"!==e.utils.typeOf(a)?a:""})},e.utils={},e.utils.typeOf=function(a){return{}.toString.call(a).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()},e.utils.options=function(b){if(a.isPlainObject(b))return b;var c=b?b.indexOf("{"):-1,d={};if(-1!=c)try{d=new Function("","var json = "+b.substr(c)+"; return JSON.parse(JSON.stringify(json));")()}catch(e){}return d},String.prototype.hashCode=function(){if(Array.prototype.reduce)return this.split("").reduce(function(a,b){return a=(a<<5)-a+b.charCodeAt(0),a&a},0);var a=0;if(0===this.length)return a;for(var b=0;b<this.length;b++){var c=this.charCodeAt(b);a=(a<<5)-a+c,a&=a}return a},e.assets={},e.assets._ress={},e.assets.load=function(b,c,d){var f=[];b=a.isArray(b)?b:[b];for(var g=0,h=b.length;h>g;g++)b[g]&&(e.assets._ress[b[g]]||(e.assets._ress[b[g]]=b[g].match(/\.js$/)?e.assets.getScript(e.url.get("root:"+b[g])):e.assets.getCss(e.url.get("root:"+b[g]))),f.push(e.assets._ress[b[g]]));return a.when.apply(a,f).done(c).fail(function(){d?d():a.error("Require failed: \n"+b.join(",\n"))})},e.assets.getScript=function(b,d){var e=a.Deferred(),f=c.createElement("script");return f.async=!0,f.onload=function(){e.resolve(),d&&d(f)},f.onerror=function(){e.reject(b)},f.onreadystatechange=function(){("loaded"==this.readyState||"complete"==this.readyState)&&(e.resolve(),d&&d(f))},f.src=b,c.getElementsByTagName("head")[0].appendChild(f),e.promise()},e.assets.getCss=function(b,d){var e=a.Deferred(),f=c.createElement("link");f.type="text/css",f.rel="stylesheet",f.href=b,c.getElementsByTagName("head")[0].appendChild(f);var g=c.createElement("img");return g.onerror=function(){e.resolve(),d&&d(f)},g.src=b,e.promise()};var f=a.Deferred();e.ready=function(){return f.promise()},e.init=function(){f.resolve()},a.zx=e}(jQuery,window,document),function(a,b,c,d,e){"use strict";b.extensions={},b.component=function(c,d){var e=function(b,d){var f=this;this.element=b?a(b):null,this.options=a.extend(!0,{},this.defaults,d),this.plugins={},this.element&&this.element.data(c,this),this.init(),(this.options.plugins.length?this.options.plugins:Object.keys(e.plugins)).forEach(function(a){e.plugins[a].init&&(e.plugins[a].init(f),f.plugins[a]=!0)}),this.trigger("init",[this])};return e.plugins={},e.instances=[],a.extend(!0,e.prototype,{type:"component",defaults:{plugins:[]},init:function(){},on:function(){return a(this.element||this).on.apply(this.element||this,arguments)},one:function(){return a(this.element||this).one.apply(this.element||this,arguments)},off:function(b){return a(this.element||this).off(b)},trigger:function(b,c){return a(this.element||this).trigger(b,c)},find:function(b){return this.element?this.element.find(b):a([])},proxy:function(a,b){var c=this;b.split(" ").forEach(function(b){c[b]||(c[b]=function(){return a[b].apply(a,arguments)})})},mixin:function(a,b){var c=this;b.split(" ").forEach(function(b){c[b]||(c[b]=a[b].bind(c))})}},d),this.extensions[c]=e,this[c]=function(){var d,e;if(arguments.length)switch(arguments.length){case 1:"string"==typeof arguments[0]||arguments[0].nodeType||arguments[0]instanceof jQuery?d=a(arguments[0]):e=arguments[0];break;case 2:d=a(arguments[0]),e=arguments[1]}return d&&d.data(c)?d.data(c):new b.extensions[c](d,e)},this[c].plugin=function(a,d){b.extensions[c].plugins[a]=d},e},b.plugin=function(c,d){var e=function(b,c){this.element=b?a(b):null,this.init(c)};return a.extend(!0,e.prototype,{type:"plugin",init:function(){}},d),this.extensions[c]=e,this[c]=function(){var d,e;if(arguments.length)switch(arguments.length){case 1:"string"==typeof arguments[0]||arguments[0].nodeType||arguments[0]instanceof jQuery?d=a(arguments[0]):e=arguments[0];break;case 2:d=a(arguments[0]),e=arguments[1]}return new b.extensions[c](d,e)},e},b.fn=function(c,d){var f=arguments,g=c.match(/^([a-z\-]+)(?:\.([a-z]+))?/i),h=g[1],i=g[2];return b[h]?"component"===b.extensions[h].prototype.type?this.each(function(){var c=a(this),g=c.data(h);g||(c.data(h,g=b[h](this,i?e:d)),b.extensions[h].instances.push(g)),i&&g[i].apply(g,Array.prototype.slice.call(f,1))}):"plugin"===b.extensions[h].prototype.type?this.each(function(){b[h](this,Array.prototype.slice.call(f,1))}):void 0:(a.error("ZLUX extension ["+h+"] does not exist."),this)},a.fn.zx=b.fn}(jQuery,jQuery.zx,window,document),function(a,b){"use strict";b.plugin("animate",{init:function(b){var c=this,d="zx-animate-"+a.trim(b[0]),e=b[1]?b[1]:null;c.animate(d).done(function(){e&&e.apply(c.element)})},animate:function(b){var c=this;return a.Deferred(function(a){c.element.addClass(b).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){c.element.removeClass(b),a.resolve()})}).promise()}})}(jQuery,jQuery.zx,window,document),function(a,b,c,d,e){"use strict";b.ajax={},b.ajax.request=function(c){var d={success:!1,errors:[],notices:[]},f=c.queue?c.queue:null,g=null;return delete c.queue,c=a.extend(!0,{dataType:"json",type:"POST"},c),a.Deferred(function(h){g=f?b.ajax.queue(f,c):a.ajax(c),g.done(function(f){if("json"===c.dataType)if("object"!==b.utils.typeOf(f))try{json=a.parseJSON(f)}catch(g){d.errors.push(String(f)),d.errors.push("An server-side error occurred. "+String(g)),h.reject(d)}else f.success===e?(f.errors=["Response format error: status not specified"],h.reject(f)):f.success?h.resolve(f):h.reject(f);else h.resolve(f)}).fail(function(a,b,c){switch(a.status){case 0:break;case 403:d.errors.push("The session has expired.");break;case 404:d.errors.push("The requested URL is not accesible.");break;case 500:d.errors.push("A server-side error has occurred.");break;default:d.errors.push("An "+b+" occurred<br />"+c+"<br /><br />Returned"+a.responseText)}d.status=a.status,h.reject(d)})}).promise()},b.ajax.requestAndNotify=function(c,d){return d=d===e?{}:d,b.ajax.request(c).done(function(c){d.group&&b.notify.closeAll(d.group),c.message&&b.notify(c.message,a.extend(!0,{status:"success"},d))}).fail(function(c){d.group&&b.notify.closeAll(d.group),c.errors&&c.errors.length&&a.each(c.errors,function(){b.notify(this,a.extend(!0,{status:"danger"},d))})}).always(function(c){c.notices&&c.notices.length&&a.each(c.notices,function(){b.notify(this,a.extend(!0,{status:"warning"},d))})})};var f={};b.ajax.queue=function(b,d){function e(a){f[b]?f[b].push(a):(f[b]=[],a())}function g(){if(f[b]){var a=f[b].shift();a?a():delete f[b]}}if("undefined"==typeof d)throw"AjaxQ: queue name is not provided";var h=a.Deferred(),i=h.promise();i.success=i.done,i.error=i.fail,i.complete=i.always;var j=a.extend(!0,{},d);return e(function(){var b=a.ajax.apply(c,[j]).always(g);b.done(function(){h.resolve.apply(this,arguments)}),b.fail(function(){h.reject.apply(this,arguments)})}),i},a.each(["getq","postq"],function(c,d){a[d]=function(c,f,g,h,i){return a.isFunction(g)&&(i=i||h,h=g,g=e),b.ajax.queue(c,{type:"postq"===d?"post":"get",url:f,data:g,success:h,dataType:i})}});var g=function(a){return f.hasOwnProperty(a)},h=function(){for(var a in f)if(g(a))return!0;return!1};b.ajax.queue.isRunning=function(a){return a?g(a):h()},b.ajax.queue.clear=function(a){if(a)f[a]&&delete f[a];else for(var b in f)f.hasOwnProperty(b)&&delete f[b]}}(jQuery,jQuery.zx,window,document),function(a,b){"use strict";var c=function(){},d=function(b,c){var d=a.UIkit.modal.dialog(b,c);return a.extend(d,{content:function(a){var b=this.dialog;return a?(b.html(a),this):b.html()}}),d.element.addClass("zx"),d},e=function(c,d){var e=a.UIkit.modal.dialog(['<div class="uk-margin uk-modal-content">'+String(c)+"</div>",'<div class="uk-modal-buttons"><button class="uk-button uk-button-small uk-button-primary uk-modal-close">'+b.lang.get("Ok")+"</button></div>"].join(""),a.extend({bgclose:!1,keyboard:!1},d));return e.show(),e},f=function(c,d,e){d=a.isFunction(d)?d:function(){};var f=a.UIkit.modal.dialog(['<div class="uk-margin uk-modal-content">'+String(c)+"</div>",'<div class="uk-modal-buttons"><button class="uk-button uk-button-small uk-button-primary js-modal-confirm">'+b.lang.get("Ok")+'</button> <button class="uk-button uk-button-small uk-modal-close">'+b.lang.get("Cancel")+"</button></div>"].join(""),a.extend({bgclose:!1,keyboard:!1},e));return f.element.find(".js-modal-confirm").on("click",function(){d(),f.hide()}),f.show(),f};b.modal=c,b.modal.dialog=d,b.modal.alert=e,b.modal.confirm=f}(jQuery,jQuery.zx,window,document),function(a,b){"use strict";b.component("spin",{defaults:{"class":"",affix:"append"},init:function(){this.on()},on:function(){var b=this;b.icon_class=!1,b.icon=b.element.is("i")?b.element:a("i",b.element).first(),b.icon.length?(b.icon_class=b.icon.attr("class"),b.icon.width(b.icon.width()),b.icon.attr("class","uk-icon-zx-spinner uk-icon-spin")):(b.icon=a('<i class="uk-icon-zx-spinner uk-icon-spin"></i>'),"replace"==b.options.affix?b.element.html(b.icon):b.element[b.options.affix](b.icon)),b.icon.addClass(b.options["class"])},off:function(){var a=this;a.icon.removeClass("uk-icon-zx-spinner uk-icon-spin"),a.icon_class&&a.icon.attr("class",a.icon_class),a.icon.width(""),a.element.removeData("spin")}})}(jQuery,jQuery.zx,window,document);